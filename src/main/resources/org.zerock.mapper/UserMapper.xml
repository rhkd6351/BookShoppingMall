<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.zerock.mapper.UserMapper">

    <insert id="insert">
        insert into user_tb(email, pw, gender, birth, phone, platform, reg_date, type)
        values (#{email}, #{pw}, #{gender}, #{birth}, #{phone}, 'local', sysdate, 1)
    </insert>

    <insert id="kakaoInsert">
        insert into user_tb(email, gender, birth, platform, reg_date, type)
        values (#{email}, #{gender}, #{birth}, 'kakao', sysdate, 1)
    </insert>

    <select id="read" resultType="org.zerock.domain.UserVO">
        select * from user_tb where email = #{email}
    </select>

    <update id="updatePw">
        update user_tb
        set pw = #{pw}
        where email = #{email}
    </update>
    <update id="updatePhone">
        update user_tb
        set phone = #{phone}
        where email = #{email}
    </update>
    <update id="updateGender">
        update user_tb
        set gender = #{gender}
        where email = #{email}
    </update>
    <update id="updateBirth">
        update user_tb
        set birth = #{birth}
        where email = #{email}
    </update>

</mapper>